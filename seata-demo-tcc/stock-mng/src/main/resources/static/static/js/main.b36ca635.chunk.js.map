{"version":3,"sources":["Number.js","StockItem.js","Balance.js","UserName.js","Service.js","common.js","App.js","SortedListApp.js","index.js"],"names":["normalizeVal","val","Math","min","max","Number","onChange","e","value","target","isNaN","parseInt","_this","props","increment","delta","_this2","this","react_default","a","createElement","className","es_button","disabled","shape","onClick","icon","type","input","Component","noop","StockItem","context","Object","classCallCheck","possibleConstructorReturn","getPrototypeOf","call","order","asyncToGenerator","regenerator_default","mark","_callee","wrap","_context","prev","next","setState","loading","onOrder","state","orderCount","t0","stop","classnames","stock-item","enlarged","hidden","onEnlarge","onShrink","name","author","price","toFixed","imageUrl","src","alt","spin","size","ownedCount","stockCount","src_Number","popconfirm","placement","title","concat","onConfirm","item-description","with-image","description","dangerouslySetInnerHTML","__html","style","opacity","backgroundImage","Balance","updateCurrent","current","balance","abs","setInterval","replace","UserName","switchUser","localStorage","window","location","reload","userName","tooltip","assertResult","result","success","Error","getBackendUrl","path","backendUrl","origin","endsWith","substr","length","startsWith","Service","createUser","_createUser","axios","post","sent","data","message","error","_x","apply","arguments","query","_query","_callee2","_context2","abrupt","_x2","querySorted","_querySorted","_callee3","_context3","_x3","queryBalance","_queryBalance","_callee4","_context4","_x4","purchase","_purchase","_callee5","productCode","count","_context5","_x5","_x6","_x7","common","footerText","initUser","_initUser","_userName","uuid","convertItems","items","map","item","objectSpread","parsedDescription","JSON","parse","image_url","Header","Layout","Content","Footer","App","resizeHandler","recalcEnlargedElementStyle","refreshStockItems","forEach","stockItems","refreshBalance","_ref3","enlargedProductCode","addEventListener","removeEventListener","layout","padding","breadcrumb","margin","Item","src_UserName","background","minHeight","id","src_StockItem","key","src_Balance","textAlign","_this3","list","document","getElementById","listRect","getBoundingClientRect","enlargeIndex","styleToApply","i","children","rect","indexOf","marginTop","y","marginBottom","height","width","keys","TRANSITION_DURATION_TEXT","body","clientHeight","scrollY","CONTAINER_PADDING","setTimeout","SortedListApp","console","log","SortedListApp_Header","SortedListApp_Content","paddingLeft","paddingTop","paddingBottom","SortedListApp_Footer","hash","ReactDOM","render","src_SortedListApp","src_App"],"mappings":"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","file":"static/js/main.b36ca635.chunk.js","sourcesContent":["import React, {Component} from 'react';\nimport {Button, Icon, Input} from 'antd';\n\nconst normalizeVal = val => Math.min(99, Math.max(0, val));\n\nfunction isInteger(value) {\n    return !isNaN(value) && parseInt(value) === +value;\n}\n\nclass Number extends Component {\n    onChange = e => {\n        if (!e.target.value) {\n            this.props.onChange(0);\n            return;\n        }\n        if (!isInteger(e.target.value)) {\n            return;\n        }\n        this.props.onChange(normalizeVal(+e.target.value));\n    };\n\n    increment = (delta) => {\n        let val = this.props.value + delta;\n        if (isNaN(val)) {\n            val = 0;\n        }\n        this.props.onChange(normalizeVal(val));\n    };\n\n    render() {\n        return <div className=\"number-component\">\n            <Button disabled={this.props.disabled} shape=\"circle\" onClick={() => this.increment(-1)}><Icon\n                type=\"minus\"/></Button>\n            <span>\n                <Input disabled={this.props.disabled} className=\"input\" value={this.props.value}\n                       onChange={this.onChange}/>\n            </span>\n            <Button disabled={this.props.disabled} shape=\"circle\" onClick={() => this.increment(1)}><Icon type=\"plus\"/></Button>\n        </div>\n    }\n\n}\n\nexport default Number;","import React, {Component} from 'react';\nimport classnames from \"classnames\";\nimport {Button, Popconfirm, Spin, Icon} from 'antd';\nimport Number from \"./Number\";\n\nconst noop = () => {\n};\n\nclass StockItem extends Component {\n\n    order = async () => {\n        this.setState({loading: true});\n        try {\n            await this.props.onOrder(this.state.orderCount);\n        } catch {\n        }\n        this.setState({orderCount: 0, loading: false});\n    };\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            orderCount: 0,\n            loading: false,\n        };\n    }\n\n    render() {\n        return <div className={\n            classnames({\n                \"stock-item\": true,\n                \"enlarged\": this.props.enlarged,\n                \"hidden\": this.props.hidden,\n            })\n        }>\n            <div className=\"main\">\n                <div className=\"name\" onClick={this.props.enlarged ? noop : this.props.onEnlarge}>\n                    <span className={\"return-icon\"} onClick={this.props.enlarged ? this.props.onShrink : noop}>\n                        <Icon type=\"arrow-left\"/>\n                    </span>\n                    <span className=\"book-name\">{this.props.name}</span>\n                    <span className=\"author\">{this.props.author}</span>\n                </div>\n                <div className=\"price\">\n                    单价: ¥{(+this.props.price).toFixed(2)}\n                </div>\n\n                {!!this.props.imageUrl && <div onClick={this.props.enlarged ? noop : this.props.onEnlarge}>\n                    <img src={this.props.imageUrl} alt=\"\" className=\"main-img\"/>\n                </div>}\n\n                {this.props.loading ? <div className=\"purchased\">\n                        &nbsp;\n                        <Spin size=\"small\"/>\n                    </div> :\n                    <div className=\"purchased\">\n                        已购: {this.props.ownedCount || 0} 件\n                        {this.props.stockCount >= 0 &&\n                        <span className=\"stock-count\">库存{this.props.stockCount || 0}件</span>}\n                    </div>}\n            </div>\n            <div className=\"side\">\n                <Number value={this.state.orderCount}\n                        onChange={orderCount => this.setState({orderCount})}\n                        disabled={this.state.loading}\n                />\n                <Popconfirm\n                    placement={\"left\"}\n                    title={`确定要订购${this.state.orderCount}件 ${this.props.name} 吗？ (总价${(this.state.orderCount * this.props.price).toFixed(2)}元)`}\n                    className={!this.state.orderCount ? \"disabled\" : \"\"}\n                    onConfirm={this.order}\n                >\n                    <Button\n                        className=\"purchase-button\"\n                        type={\"primary\"}\n                        disabled={!this.state.orderCount}\n                        loading={this.state.loading}>订购</Button>\n                </Popconfirm>\n            </div>\n\n            <div className={classnames({\n                \"hidden\": !this.props.enlarged,\n                \"item-description\": true,\n                \"with-image\": !!this.props.imageUrl\n            })}>\n                {!!this.props.description ?\n                    <div dangerouslySetInnerHTML={{__html: this.props.description}}/>\n                    :\n                    <div style={{opacity: 0.7}}>\n                        商品暂无详细说明\n                    </div>}\n            </div>\n            {this.props.enlarged && !!this.props.imageUrl &&\n            <img src=\"\" alt=\"\" className=\"item-image\" style={{backgroundImage: `url('${this.props.imageUrl}')`}}/>}\n        </div>\n    }\n}\n\nexport default StockItem;","import React, {Component} from 'react';\n\nclass Balance extends Component {\n\n    updateCurrent = () => {\n        if (this.state.current === this.props.balance) {\n            return;\n        }\n        if (Math.abs(this.state.current - this.props.balance) < 0.01) {\n            this.setState({\n                current: this.props.balance\n            })\n        } else {\n            this.setState({\n                current: this.state.current + (this.props.balance - this.state.current) / 10\n            })\n        }\n    };\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {current: this.props.balance};\n\n        setInterval(this.updateCurrent, 10);\n    }\n\n    render() {\n        return <div className=\"balance-component\">\n            可用余额 {this.props.balance === null ? <span>...</span> :\n            <span>¥ {(+this.state.current).toFixed(2).replace(/\\d(?=(\\d{3})+\\.)/g, '$&,')}</span>}\n        </div>\n    }\n\n}\n\nexport default Balance;","import React, {Component} from 'react';\nimport {Icon, Popconfirm, Tooltip} from \"antd\";\n\nclass UserName extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {\n            userName: localStorage['userName']\n        };\n        setInterval(() => {\n            this.setState({userName: localStorage['userName']})\n        }, 1000);\n    }\n\n    switchUser = () => {\n        delete localStorage[\"userName\"];\n        window.location.reload();\n    };\n\n    render() {\n        if (!this.state.userName) {\n            return null;\n        }\n        return <div className=\"username-display\">\n            <Icon type=\"user\"/>\n            <Tooltip title={\"用户标识符: \" + this.state.userName} placement={\"bottomRight\"}>\n                <span className='username-text'>{this.state.userName}</span>\n            </Tooltip>\n            <Popconfirm\n                placement={\"topLeft\"}\n                title={`确定要切换用户吗`}\n                onConfirm={this.switchUser}\n            >\n                <Icon type=\"reload\" className=\"reload-btn\"/>\n            </Popconfirm>\n        </div>\n    }\n}\n\nexport default UserName;","import axios from 'axios';\nimport {message} from \"antd\";\n\nwindow.backendUrl = window.backendUrl || \"/\";\n\nfunction assertResult(result) {\n    if (result.success === false) {\n        throw new Error(\"result.success===false\");\n    }\n}\n\nfunction getBackendUrl(path) {\n    if (window.backendUrl === '/') {\n        window.backendUrl = window.location.origin;\n    }\n    if (window.backendUrl.endsWith(\"/\")) {\n        window.backendUrl = window.backendUrl.substr(0, window.backendUrl.length - 1);\n    }\n\n    if (!path.startsWith(\"/\")) {\n        path = \"/\" + path;\n    }\n\n    return window.backendUrl + path;\n}\n\nexport default {\n    async createUser(userName) {\n        try {\n            const result = (await axios.post(getBackendUrl(\"/createUser\"), {userName})).data;\n            assertResult(result);\n        } catch (e) {\n            message.error(\"Failed to create user: \" + e.message);\n            throw e;\n        }\n    },\n    async query(userName) {\n        try {\n            const result = (await axios.post(getBackendUrl(\"/query\"), {userName})).data;\n            assertResult(result);\n            return result;\n        } catch (e) {\n            message.error(\"Failed to query stock: \" + e.message);\n            throw e;\n        }\n    },\n    async querySorted(userName) {\n        try {\n            const result = (await axios.post(getBackendUrl(\"/querySorted\"), {userName})).data;\n            assertResult(result);\n            return result;\n        } catch (e) {\n            message.error(\"Failed to query stock: \" + e.message);\n            throw e;\n        }\n    },\n    async queryBalance(userName) {\n        try {\n            const result = (await axios.post(getBackendUrl(\"/queryBalance\"), {userName})).data;\n            assertResult(result);\n            return result;\n        } catch (e) {\n            message.error(\"Failed to query balance: \" + e.message);\n            throw e;\n        }\n    },\n    async purchase(userName, productCode, count) {\n        try {\n            const result = (await axios.post(getBackendUrl(\"/purchase\"), {userName, productCode, count})).data;\n            assertResult(result);\n            return result;\n        } catch (e) {\n            message.error(\"Failed to purchase: \" + e.message);\n            throw e;\n        }\n    },\n}","import uuid from \"uuid/v4\";\nimport Service from \"./Service\";\n\nexport default {\n    footerText: \"Alipay ©2019 / a KubeCon DEMO\",\n    async initUser() {\n        const userName = localStorage[\"userName\"];\n        if (!userName) {\n            let userName = uuid();\n            await Service.createUser(userName);\n            localStorage[\"userName\"] = userName;\n            // message.success(\"已成功初始化新的用户。\");\n        }\n    },\n    convertItems: function (items) {\n        return items.map(a => {\n            let item = {...a};\n\n            try {\n                let parsedDescription = JSON.parse(item.description);\n                item.description = parsedDescription.description;\n                item.image_url = parsedDescription.image_url;\n                item.author = parsedDescription.author;\n            } catch (e) {\n            }\n            return item;\n        });\n    }\n\n};","import React, {Component} from 'react';\nimport {Breadcrumb, Layout, message, Spin} from 'antd';\nimport StockItem from \"./StockItem\";\nimport Balance from \"./Balance\";\nimport UserName from \"./UserName\";\nimport Service from './Service'\nimport common from \"./common\";\n\nconst {Header, Content, Footer} = Layout;\n\nclass App extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {balance: null, stockItems: null, enlargedProductCode: null};\n    }\n\n    resizeHandler = () => {\n        if (this.recalcEnlargedElementStyle) {\n            this.recalcEnlargedElementStyle();\n        }\n    };\n\n    async componentDidMount() {\n        await common.initUser();\n        this.refreshBalance();\n        await this.refreshStockItems();\n\n        window.addEventListener(\"resize\", this.resizeHandler);\n    }\n\n    componentWillUnmount() {\n        window.removeEventListener(\"resize\", this.resizeHandler);\n\n    }\n\n    refreshStockItems = async () => {\n        let items = await Service.query(localStorage[\"userName\"]);\n        items.forEach(item => item.loading = false);\n        this.setState({stockItems: common.convertItems(items)});\n    };\n\n    refreshBalance = async () => {\n        let result = await Service.queryBalance(localStorage[\"userName\"]);\n        this.setState({balance: result.balance});\n    };\n\n    onOrder = async (item, count) => {\n        await Service.purchase(localStorage[\"userName\"], item.productCode, count);\n        message.success(\"恭喜，订购成功\");\n        this.setState({balance: this.state.balance - item.price * count});\n        item.loading = true;\n        this.setState({});\n        this.refreshStockItems();\n        this.refreshBalance();\n    };\n\n    render() {\n        return (\n            <Layout className=\"layout\">\n                <Header>\n                    <div className=\"logo\">KubeCon DEMO</div>\n                </Header>\n                <Content style={{padding: '0 50px'}}>\n                    <Breadcrumb style={{margin: '16px 0'}}>\n                        <Breadcrumb.Item>Home</Breadcrumb.Item>\n                        <Breadcrumb.Item>库存管理</Breadcrumb.Item>\n                    </Breadcrumb>\n                    <UserName/>\n                    <div style={{background: '#fff', padding: 24, minHeight: 280}} id={\"stock-item-list\"}>\n                        {!this.state.stockItems && <div className=\"spin-div\"><Spin/></div>}\n                        {!!this.state.stockItems\n                        && this.state.stockItems.map(item =>\n                            <StockItem key={item.productCode}\n                                       name={item.name}\n                                       description={item.description}\n                                       author={item.author}\n                                       imageUrl={item.image_url}\n                                       ownedCount={item.ownedCount}\n                                       stockCount={item.stockCount}\n                                       price={item.price}\n                                       loading={item.loading}\n                                       enlarged={this.state.enlargedProductCode === item.productCode}\n                                       hidden={!!this.state.enlargedProductCode && this.state.enlargedProductCode !== item.productCode}\n                                       onEnlarge={() => this.onEnlarge(item.productCode)}\n                                       onShrink={() => this.onShrink()}\n                                       onOrder={(count) => this.onOrder(item, count)}/>)}\n                    </div>\n                </Content>\n\n                <Balance balance={this.state.balance}/>\n                <Footer style={{textAlign: 'center'}}>{common.footerText}</Footer>\n            </Layout>\n        );\n    }\n\n    onEnlarge(productCode) {\n        this.setState({enlargedProductCode: productCode}, () => {\n            const CONTAINER_PADDING = 24;\n            const FOOTER_HEIGHT = 105;\n            const TRANSITION_DURATION = 350;\n            const list = document.getElementById(\"stock-item-list\");\n            const listRect = list.getBoundingClientRect();\n            let enlargeIndex = -1;\n            const styleToApply = {};\n            for (let i = 0; i < list.children.length; i++) {\n                let rect = list.children[i].getBoundingClientRect();\n                if (list.children[i].className.indexOf(\"enlarged\") >= 0) {\n                    enlargeIndex = i;\n                    let marginTop = rect.y - listRect.y - CONTAINER_PADDING;\n                    let marginBottom = listRect.y + listRect.height - rect.y - rect.height - CONTAINER_PADDING;\n                    styleToApply[i] = `margin-top:${marginTop}px;margin-bottom:${marginBottom}px;height:${rect.height}px;`;\n                } else if (list.children[i].className.indexOf(\"hidden\") >= 0) {\n                    styleToApply[i] = `position:absolute; width:${rect.width}px; top:${rect.y}px`;\n                }\n            }\n\n            Object.keys(styleToApply).forEach(key => {\n                list.children[key].style = styleToApply[key];\n            });\n\n            if (enlargeIndex >= 0) {\n                this.recalcEnlargedElementStyle = () => {\n                    const TRANSITION_DURATION_TEXT = (TRANSITION_DURATION / 1000).toFixed(2) + \"s\";\n                    let height = document.body.clientHeight - listRect.y - window.scrollY - CONTAINER_PADDING * 2 - FOOTER_HEIGHT;\n                    list.children[enlargeIndex].style = `transition: opacity ${TRANSITION_DURATION_TEXT}, margin-top ${TRANSITION_DURATION_TEXT}, margin-bottom ${TRANSITION_DURATION_TEXT}, height ${TRANSITION_DURATION_TEXT};margin-top:0; margin-bottom:0; height:${height}px`;\n                };\n                setTimeout(this.recalcEnlargedElementStyle, TRANSITION_DURATION / 3);\n            }\n        });\n    }\n\n    onShrink() {\n        this.recalcEnlargedElementStyle = null;\n        const list = document.getElementById(\"stock-item-list\");\n        for (let i = 0; i < list.children.length; i++) {\n            list.children[i].style = \"\";\n        }\n        this.setState({enlargedProductCode: null});\n    }\n}\n\nexport default App;","import React, {Component} from 'react';\nimport {Breadcrumb, Layout, Spin} from 'antd';\nimport common from './common'\nimport Service from \"./Service\";\n\nconst {Header, Content, Footer} = Layout;\n\nclass SortedListApp extends Component {\n\n    constructor(props, context) {\n        super(props, context);\n        this.state = {balance: null, stockItems: null, enlargedProductCode: null};\n    }\n\n    async componentDidMount() {\n        await common.initUser();\n        await this.refreshStockItems();\n    }\n\n    refreshStockItems = async () => {\n        let items = await Service.querySorted(localStorage[\"userName\"]);\n        items.forEach(item => item.loading = false);\n        this.setState({stockItems: common.convertItems(items)}, () => console.log(this.state));\n    };\n\n    render() {\n        return (\n            <Layout className=\"layout\">\n                <Header>\n                    <div className=\"logo\">KubeCon DEMO</div>\n                </Header>\n                <Content style={{padding: '0 50px'}}>\n                    <Breadcrumb style={{margin: '16px 0'}}>\n                        <Breadcrumb.Item>Home</Breadcrumb.Item>\n                        <Breadcrumb.Item>库存管理</Breadcrumb.Item>\n                    </Breadcrumb>\n                    <div style={{background: '#fff', padding: 24, minHeight: 280}} id={\"stock-item-list\"}>\n                        {!this.state.stockItems && <div className=\"spin-div\"><Spin/></div>}\n                        {!!this.state.stockItems\n                        && this.state.stockItems.map(item =>\n                            <div className=\"stock-item\" key={item.productCode}\n                                 style={{paddingLeft: 75, paddingTop: 20, paddingBottom: 20}}>\n                                <div className=\"main\">\n                                    <div className=\"name\" style={{marginBottom: 3}}>\n                                        {item.name}\n                                    </div>\n                                    {!!item.image_url && <div>\n                                        <img src={item.image_url} alt=\"\" className=\"main-img\"/>\n                                    </div>}\n                                    {!!item.author && <div style={{marginBottom: 2}}>\n                                        {item.author}\n                                    </div>}\n                                </div>\n                            </div>)}\n                    </div>\n                </Content>\n                <Footer style={{textAlign: 'center'}}>{common.footerText}</Footer>\n            </Layout>\n        );\n    }\n}\n\nexport default SortedListApp;","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.scss';\nimport App from './App';\nimport SortedListApp from './SortedListApp';\n\nwindow.backendUrl = \"http://localhost:8080\";\n\nif (window.location.hash === '#list') {\n    ReactDOM.render(<SortedListApp/>, document.getElementById('root'));\n} else {\n    ReactDOM.render(<App/>, document.getElementById('root'));\n}\n"],"sourceRoot":""}